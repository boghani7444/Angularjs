<section class="page-padding"  data-ng-controller="newaddCtrl">

    <div class="divider"></div>

  <div>
    <div class="md-whiteframe-z1">
      <md-toolbar class="md-accent">
        <div class="md-toolbar-tools">
          <h3 style="text-transform:capitalize;">{{user.actionfrm.toLowerCase()}} News</h3>
          <span class="flex"></span>
          <button class="md-icon-button md-button " aria-label="View Source">
            <md-icon md-svg-icon="dist/img/icons/ic_grid_on_24px.svg"></md-icon>
          </button>
        </div>
      </md-toolbar>

      <md-content>
        <div class="md-content__body">
            <aside data-ng-include="'app/common/message/message.html'" id="msgarea"></aside>
            <form name="form_constraints" class="form-validation" novalidate data-ng-submit="submitForm()">
              <div layout="row" style="margin-top:20px;">
                  <div flex="100">
                      <md-input-container>
                        <label>News Title</label>
                        <input size="140" type="text" class="form-control" required data-ng-model="user.txttitle">
                      </md-input-container>
                  </div>
              </div>
                <div layout="row">
                    <div flex="100">
                        <label style="color: rgba(0, 0, 0, 0.54);transform: translate3d(0px, 6px, 0px) scale(0.95);">News Description</label>                  
						<trix-editor angular-trix ng-model="user.txtdescription" ></trix-editor>
					</div>
                </div>
                <div layout="row">   
                    <div flex="100">
                        <md-input-container style='margin: 30px 0px 0px 0px;'>
                            <label>URL For More Details About This NEWS</label>
                            <input type="text" class="form-control" size="80" required data-ng-model="user.newsurl" />
                        </md-input-container>
                    </div>
                </div>
                
                <div layout="row">
                    <div flex="100">
                        <label>CHOOSE AN IMAGE</label>
                        <input type="file"onchange="angular.element(this).scope().onFile(this.files[0])" ng-model="user.image" accept="image/*" id="imglogo">
                    </div>
                </div>
                <div layout="row"> 
                    <div flex="100" ng-if="dataUrl">
                        <div flex="70" >
                            <h3 >Then, crop it (Drag to move and wheel over the image to zoom in or zoom out)</h3>
                            <!--<canvas class="cropper" width="320" height="126" tw-cropper="cropper" source="file"></canvas>-->
                            <div ng-if="dataUrl" class="img-container" style='width:800px;'>
                                <img ng-if="dataUrl" ng-src="{{dataUrl}}" width="800"
                                     ng-cropper
                                     ng-cropper-proxy="cropperProxy"
                                     ng-cropper-show="showEvent"
                                     ng-cropper-hide="hideEvent"
                                     ng-cropper-options="options"
                                     >
                            </div>
                        </div>
                        <div flex="20" ng-if="preview.dataUrl">
                            <h3>Result:</h3>
                            <div class="preview-container">
                                <img ng-if="preview.dataUrl" ng-src="{{preview.dataUrl}}">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div layout="row"  >
                    <div flex="100" style="text-align:center">
                        <br />
                        <input type="hidden" ng-model="user.news_id">     
                        <input type="hidden" ng-model="user.submitaction">
                        <input type="hidden" ng-model="user.submit">
                        <md-button class="btn-width-medium md-raised md-primary" ng-click="preview();" data-ng-disabled="!dataUrl" >Crop</md-button>
                        <md-button data-ng-click="submitForm(preview.dataUrl,odataUrl)" class="btn-width-medium md-raised md-primary" data-ng-disabled="canSubmit()" title="Submit button will be active only when all fields are valid.">Submit</md-button>
                    </div>
                </div>
            </form>
        </div>
      </md-content>
    </div>
  </div>
</section>    